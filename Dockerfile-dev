FROM python:alpine

# For pete's sake do not put this on the internet
RUN apk add --update linux-headers
RUN addgroup -S credev && adduser -S credev -G credev


COPY . /home/credev/cre_sync
RUN chown -R credev:credev /home/credev/cre_sync
USER credev

WORKDIR /home/credev/cre_sync

RUN export PATH=$PATH:/home/credev/.local/bin &&\
    pip install -r requirements.txt &&\
    chmod +x docker-entrypoint.sh

ENTRYPOINT ["/home/credev/cre_sync/docker-entrypoint.sh"]



